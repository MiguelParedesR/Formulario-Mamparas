<main class="p-6 space-y-6">

  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <h1 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
        <i class="fas fa-warehouse text-emerald-600"></i>
        M贸dulo de Mamparas
      </h1>
      <p class="text-sm text-gray-500">Registra inspecciones y gestiona los detalles obligatorios.</p>
    </div>
  </div>

  <section class="bg-white rounded-xl shadow-md border border-gray-200 p-6 space-y-4">
    <form id="form-inspeccion" class="space-y-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="fecha">Fecha</label>
          <input type="date" id="fecha" name="fecha" required readonly
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
        </div>
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="hora">Hora</label>
          <input type="time" id="hora" name="hora" required readonly
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
        </div>
      </div>

      <div class="space-y-1">
        <label class="text-sm font-semibold text-gray-700" for="empresa">Empresa</label>
        <select id="empresa" name="empresa" required
          class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
          <option value="">Seleccione</option>
          <option value="otra">AGREGAR OTRA EMPRESA</option>
          <option value="RYM">RYM</option>
          <option value="TURICAR">TURICAR</option>
          <option value="BUEN DIA">BUEN DIA</option>
          <option value="HUARIJIRCA">HUARIJIRCA</option>
          <option value="TEAL">TEAL</option>
          <option value="BRANDOM">BRANDOM</option>
          <option value="DIOS DA">DIOS DA</option>
          <option value="KAREL">KAREL</option>
          <option value="MALEJA">MALEJA</option>
          <option value="MOTRIL">MOTRIL</option>
          <option value="JK SALAS">JK SALAS</option>
          <option value="TATTUS TRUCK">TATTUS TRUCK</option>
          <option value="PR HERMANOS">PR HERMANOS</option>
          <option value="SCARAMUTTI">SCARAMUTTI</option>
          <option value="GM">GM</option>
          <option value="TILOPSAC">TILOPSAC</option>
          <option value="CHUCAS CARGO">CHUCAS CARGO</option>
          <option value="V&B">V&B</option>
          <option value="GAMARRA BERRENECHEA">GAMARRA BERRENECHEA</option>
        </select>
        <input type="text" id="nueva_empresa" name="nueva_empresa" placeholder="Ingresa el nombre de la empresa"
          style="display: none;"
          class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 mt-2" />
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="placa">Placa</label>
          <input type="text" id="placa" name="placa" required
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
        </div>
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="chofer">Chofer</label>
          <input type="text" id="chofer" name="chofer" required
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="lugar">Lugar</label>
          <select id="lugar" name="lugar" required
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
            <option value="">Seleccione</option>
            <option value="Tracciones">Tracciones</option>
            <option value="Calle">Calle</option>
          </select>
        </div>
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="incorreccion">Tipo de incorrecci贸n</label>
          <select id="incorreccion" name="incorreccion" required
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
            <option value="">Seleccione</option>
            <option value="Mampara">Mampara</option>
            <option value="Cola de Pato">Cola de Pato</option>
            <option value="Pernos">Pernos</option>
            <option value="Otros">Otros</option>
          </select>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="responsable">Responsable</label>
          <select id="responsable" name="responsable" required
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
            <option value="">Seleccione</option>
            <option value="Carlos Sanchez">Carlos Sanchez</option>
            <option value="Francisco Elescano">Francisco Elescano</option>
            <option value="Hernan Luna">Hernan Luna</option>
            <option value="Roger Castro">Roger Castro</option>
            <option value="Oscar Fernandez">Oscar Fernandez</option>
            <option value="Miguel Paredes">Miguel Paredes</option>
            <option value="David Echaccaya">David Echaccaya</option>
            <option value="Juan Quelopana">Juan Quelopana</option>
            <option value="Grover Munguia">Grover Munguia</option>
            <option value="Ernesto Alfaro">Ernesto Alfaro</option>
          </select>
        </div>
        <div class="space-y-1">
          <label class="text-sm font-semibold text-gray-700" for="observaciones">Observaciones</label>
          <select id="observaciones" name="observaciones" required
            class="w-full rounded-lg border-gray-300 px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
            <option value="">Seleccione</option>
            <option value="Descarga">Descarga</option>
            <option value="Embarque">Embarque</option>
            <option value="Otros">Otros</option>
          </select>
        </div>
      </div>

      <input type="hidden" id="detalle" name="detalle" />

      <div class="flex flex-wrap items-center gap-3">
        <button type="button" id="btnAgregarDetalle" style="display:none;"
          class="px-4 py-2 bg-indigo-50 text-indigo-700 border border-indigo-200 rounded-lg text-sm font-semibold hover:bg-indigo-100">
          Agregar Detalle
        </button>
        <button type="submit"
          class="px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-semibold shadow hover:bg-emerald-700">
          Registrar
        </button>
      </div>
    </form>
  </section>

  <!-- Modal de Detalle -->
  <div id="detalleModal" class="fixed inset-0 bg-black/40 items-center justify-center" style="display:none;">
    <div class="bg-white rounded-xl shadow-lg w-full max-w-lg p-5 space-y-4">
      <div class="flex items-center justify-between">
        <h3 class="text-lg font-semibold text-gray-800">Detalle de la incorrecci贸n</h3>
        <button id="cerrarDetalleModal" class="text-gray-500 hover:text-gray-700">&times;</button>
      </div>
      <div id="contenidoDetalle" class="space-y-3"></div>
      <div class="flex justify-end gap-2">
        <button id="btnGuardarDetalle"
          class="px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700">
          Guardar Detalle
        </button>
      </div>
    </div>
  </div>

  <!-- Modal de retroalimentaci贸n -->
  <div id="feedbackModal" class="fixed inset-0 bg-black/40 items-center justify-center" style="display: none;">
    <div class="bg-white rounded-xl shadow-lg w-72 p-5 text-center space-y-3 modal-inner">
      <div id="loadingAnimation"
        class="mx-auto h-10 w-10 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"></div>
      <p id="feedbackMessage" class="message text-sm"></p>
    </div>
  </div>

</main>

<!-- Scripts -->
<script type="module" src="/js/mamparas/registros.js"></script>
